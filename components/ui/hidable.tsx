import { FC, PropsWithChildren, useContext, useState } from "react";
import { Tooltip, TooltipContent, TooltipTrigger } from "./tooltip";
import { UserContext } from "./userContextProvider";
import { BalanceContext } from "./balanceProvider";

export const Hidable: FC<PropsWithChildren> = ({ children }) => {
  const { balance } = useContext(BalanceContext);
  if (balance) {
    return children;
  }
  return (
    <Tooltip delayDuration={200}>
      <TooltipTrigger asChild>
        <svg
          className="inline-block"
          width="71"
          height="21"
          viewBox="0 0 71 21"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7.76921 20.3588C7.80654 19.7615 7.80654 19.1548 7.76921 18.5388C7.75055 17.9041 7.72255 17.2881 7.68521 16.6908C7.23721 16.6535 6.74254 16.6255 6.20121 16.6068C5.67854 16.5881 5.17454 16.5228 4.68921 16.4108V16.3828C4.68921 15.4681 4.66121 14.4881 4.60521 13.4428C4.56788 12.3975 4.53054 11.3335 4.49321 10.2508C4.45588 9.14946 4.43721 8.06679 4.43721 7.00279C4.45588 5.93879 4.51188 4.93079 4.60521 3.97879H4.63321C5.11854 4.01612 5.61321 4.00679 6.11721 3.95079C6.63988 3.89479 7.13454 3.88546 7.60121 3.92279H7.68521C7.79721 3.56812 7.85321 3.08279 7.85321 2.46679V0.61879C7.31188 0.674791 6.76121 0.693457 6.20121 0.674789C5.64121 0.656123 5.07188 0.637457 4.49321 0.61879C3.93321 0.581457 3.36388 0.56279 2.78521 0.56279C2.20654 0.544123 1.61854 0.572122 1.02121 0.646789V0.674789C0.909211 2.28012 0.834544 3.91346 0.797211 5.57479C0.759878 7.21746 0.741211 8.86946 0.741211 10.5308V15.5148C0.759878 17.1575 0.759878 18.7628 0.741211 20.3308V20.4428C0.946544 20.4241 1.23588 20.4055 1.60921 20.3868H5.05321L7.76921 20.3588Z"
            fill="black"
          />
          <path
            d="M66.6877 20.3868H70.1037C70.4957 20.4055 70.7944 20.4241 70.9997 20.4428V20.3308C70.9624 18.7628 70.9437 17.1575 70.9437 15.5148C70.9624 13.8535 70.9717 12.1921 70.9717 10.5308C70.9717 8.86946 70.953 7.21746 70.9157 5.57479C70.897 3.91346 70.8317 2.28012 70.7197 0.674789V0.646789C70.1224 0.572122 69.5344 0.544123 68.9557 0.56279C68.377 0.56279 67.7984 0.581457 67.2197 0.61879L65.5397 0.674789C64.9797 0.693457 64.429 0.674791 63.8877 0.61879V2.46679C63.8877 3.08279 63.9437 3.56812 64.0557 3.92279H64.1397C64.6064 3.88546 65.0917 3.89479 65.5957 3.95079C66.1184 4.00679 66.6224 4.01612 67.1077 3.97879H67.1357C67.229 4.93079 67.2757 5.93879 67.2757 7.00279C67.2944 8.06679 67.285 9.14946 67.2477 10.2508C67.2104 11.3335 67.1637 12.3975 67.1077 13.4428C67.0704 14.4881 67.0517 15.4681 67.0517 16.3828V16.4108C66.5664 16.5228 66.053 16.5881 65.5117 16.6068C64.989 16.6255 64.5037 16.6535 64.0557 16.6908C64.0184 17.2881 63.981 17.9041 63.9437 18.5388C63.925 19.1548 63.9344 19.7615 63.9717 20.3588L66.6877 20.3868Z"
            fill="black"
          />
          <path
            d="M64.7479 7.22681H6.99316V15.6268H64.7479V7.22681Z"
            fill="black"
          />
        </svg>
      </TooltipTrigger>
      <TooltipContent side="bottom">
        {'Press "View Balances" button to see'}
      </TooltipContent>
    </Tooltip>
  );
};
